# Logical Block Diagram

Проект представляет собой программу для визуализации логических схем на основе булевых выражений. Приложение преобразует текстовое логическое выражение в древовидную структуру и отображает её в виде графической схемы с возможностью сохранения результата.

## Основные возможности

- **Парсинг логических выражений** с поддержкой операторов:
  - `&` (AND)
  - `|` (OR) 
  - `^` (XOR)
  - `!` (NOT)
- **Построение дерева разбора** выражения
- **Автоматическая компоновка** графической схемы
- **Визуализация** в виде иерархической блок-схемы
- **Сохранение схемы** в форматах PNG, JPG, BMP

## Структура проекта

### Основные классы

#### SchemaTree
- **Назначение**: Построение и управление деревом разбора логического выражения
- **Функциональность**:
  - Парсинг строковых выражений
  - Рекурсивное построение дерева
  - Расчет размеров дерева (высота, ширина)
  - Отладочный вывод структуры дерева

#### DrawingDiagram
- **Назначение**: Создание графического представления схемы
- **Функциональность**:
  - Автоматическое масштабирование элементов
  - Рисование операторов, переменных и инверторов
  - Компоновка связей между элементами
  - Генерация обозначений выходов

#### NameGenerator
- **Назначение**: Генерация уникальных имен для элементов схемы
- **Форматы имен**:
  - Числовые префиксы (nXXXXXX)
  - Буквенные префиксы (EXXXXXXXX) 
  - Логические суффиксы (logicXXXX_Y)

#### SchemaProgram
- **Назначение**: Координация процесса построения схемы
- **Интеграция**: Связывает SchemaTree и DrawingDiagram

#### MainWindow
- **Назначение**: Пользовательский интерфейс
- **Элементы UI**:
  - Поле ввода выражения
  - Кнопка "Execute" для построения схемы
  - Кнопка "Save" для сохранения изображения
  - GraphicsView для отображения схемы

## Использование

### Требования
- Qt 6.x или выше
- C++17 компилятор

### Запуск и работа с программой

1. **Скачайте и распакуйте**: [Скачайте ZIP архив](https://github.com/AxineBro/LogicalBlockDiagram/raw/refs/heads/main/DrawingLogicalDiagram_Release.zip) и распакуйте его
2. **Запустите программу**: запустите исполняемый файл приложения
3. **Ввод выражения**: введите логическое выражение в поле "Y ="
   - Пример: `!((A & B) | C)`
   - Поддерживаются операторы: `&`, `|`, `^`, `!`
4. **Построение схемы**: нажмите кнопку "Execute" для генерации схемы
5. **Просмотр результатов**:
   - Схема отобразится в центральной области
   - Зеленым цветом обозначены переменные
   - Синим цветом обозначены операторы
   - Черным цветом обозначены инверторы
6. **Сохранение**: нажмите "Save" для экспорта схемы в изображение (PNG, JPG, BMP)

### Формат ввода выражений

**Примеры корректных выражений:**
- `A & B` - логическое И
- `A | B` - логическое ИЛИ  
- `A ^ B` - исключающее ИЛИ
- `!A` - отрицание
- `!((A | B) & C)` - комбинированные операции
- `((A & B) | C) ^ D` - вложенные выражения

**Особенности синтаксиса:**
- Операторы имеют одинаковый приоритет
- Для изменения порядка выполнения используйте скобки
- Пробелы игнорируются
- Переменные могут быть любыми буквенными обозначениями
- Разные операторы в одном выражении требуют явного указания приоритета через скобки
- Унарный NOT может находиться только в начале выражения или непосредственно перед переменной/скобками

## Архитектура визуализации

### Элементы схемы

1. **Прямоугольники** - операторы (AND, OR, XOR)
2. **Круги** - инверторы (NOT)
3. **Квадраты** - переменные и выходы
4. **Линии** - соединения между элементами
5. **Текстовые метки** - обозначения и номера

### Алгоритм компоновки

1. **Анализ дерева**: вычисление высоты и ширины
2. **Масштабирование**: автоматический расчет размеров элементов
3. **Рекурсивное рисование**: обход дерева от корня к листьям
4. **Соединение элементов**: линии между родителями и потомками

## Пример работы

Для выражения `(A & B) | C` программа:

1. Построит дерево разбора:
   ```
   | (OP)
   ├─ & (OP)
   │  ├─ A (VAR)
   │  └─ B (VAR)   
   └─ C (VAR)
   ```

2. Создаст графическую схему с:
   - Оператором ИЛИ в корне
   - Оператором И в блоке A, B
   - Переменными A, B, C слева
   - Выходом Y справа
